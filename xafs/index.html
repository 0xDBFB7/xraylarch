
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>8. XAFS Analysis &mdash; larch 0.9.29 documentation</title>
    
    <link rel="stylesheet" href="../_static/larchdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9.29',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="larch 0.9.29 documentation" href="../index.html" />
    <link rel="next" title="8.1. XAFS Functions: Overview and Naming Conventions" href="utilities.html" />
    <link rel="prev" title="7.8. Advanced Confidence Intervals and Chi-square maps" href="../fitting/confidence.html" />
  <script type="text/x-mathjax-config">
     MathJax.Hub.Config({ "TeX": {Macros: {AA : "{\\unicode{x212B}}"}},
			 "HTML-CSS": {scale: 90}});
  </script>

  </head>
  <body role="document">
<div style=" color: #c5daba;  text-align: left; height:65px; padding: 0px">
<table border=1>
  <tr>
    <td width=20%>
	<a href="../index.html">
	 <img src="../_static/larchcones.png" height=60px alt="larchcones"/></a>
    </td>
    <td width=75% padding=0>
      <font size=+2>
	<a href="../index.html" style="color:#772211">
	  Larch: Data Analysis Tools for X-ray Spectroscopy
	</a>
      </font>
    </td>
   </tr></table>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="utilities.html" title="8.1. XAFS Functions: Overview and Naming Conventions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../fitting/confidence.html" title="7.8. Advanced Confidence Intervals and Chi-square maps"
             accesskey="P">previous</a> |</li>
   <li>[<a href="../data/index.html">Reading Data</a>|</li>
   <li><a href="../plotting/index.html">Plotting</a>|</li>
   <li><a href="../fitting/index.html">Fitting Data</a>|</li>
   <li><a href="#">XAFS Analysis</a>|</li>
   <li><a href="../xray/index.html">Xray Databases</a>|</li>
   <li><a href="../xrf/index.html">XRF Analysis</a>|</li>
   <li><a href="../devel/index.html">Scripting</a>]</li>
 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="../fitting/confidence.html"
                        title="previous chapter">7.8. Advanced Confidence Intervals and Chi-square maps</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="utilities.html"
                        title="next chapter">8.1. XAFS Functions: Overview and Naming Conventions</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/xafs/index.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="xafs-analysis">
<span id="xafs-chapter"></span><h1>8. XAFS Analysis<a class="headerlink" href="#xafs-analysis" title="Permalink to this headline">Â¶</a></h1>
<p>One of the primary motivations for Larch was processing XAFS data.  Larch
was originally conceived to be version 2 of Ifeffit (<span class="citation"><a class="reference internal" href="../biblio.html#citation-ifeffit">Newville</a><span> </span><span>[</span><a class="reference internal" href="../biblio.html#citation-ifeffit">12</a><span>]</span></span>),
replacing and expanding all the XAFS analysis capabilities of that package.
XAFS Analysis can generally be broken into a few separate steps:
This replacement is essentially complete insofar as all the main
functionality of Ifeffit is available in Larch.  There may still be a few
minor features of Ifeffit that are not yet available, and some
functionality to port from Athena (<span class="citation"><a class="reference internal" href="../biblio.html#citation-athena">Ravel and Newville</a><span> </span><span>[</span><a class="reference internal" href="../biblio.html#citation-athena">16</a><span>]</span></span>) back to the core
library.  In addition, there are some minor differences in implementation
details, so that slightly different numerical results may be obtained.
Importantly, several features are available with Larch that were not
available with Ifeffit 1.2 and some small errors in Ifeffit 1.2 have been
fixed.</p>
<blockquote>
<div><ol class="arabic simple">
<li>Reading in raw data.</li>
<li>Making corrections to the data, and converting to  <span class="math">\(\mu(E)\)</span></li>
<li>Pre-edge background removal and normalization.</li>
<li>Interpreting normalized <span class="math">\(mu(E)\)</span> as XANES spectra</li>
<li>Post-edge background removal, conversion to <span class="math">\(\chi(k)\)</span></li>
<li>XAFS Fourier Transform to <span class="math">\(\chi(R)\)</span></li>
<li>Reading and processing FEFF Paths from external files.</li>
<li>Fitting XAFS <span class="math">\(\chi(k)\)</span> to a sum of FEFF paths.</li>
</ol>
</div></blockquote>
<p>The XAFS-specific functions in Larch follow these general steps.  They are
all kept in the <a class="reference internal" href="xafsft.html#module-_xafs" title="_xafs"><code class="xref py py-data docutils literal"><span class="pre">_xafs</span></code></a> Group, which can be easily accessed, as this
is in the default search path.</p>
<span class="target" id="module-_xafs"></span><div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">8.1. XAFS Functions: Overview and Naming Conventions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="utilities.html#naming-conventions-for-xafs-arrays">8.1.1. Naming conventions for XAFS arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities.html#utility-functions-for-xafs">8.1.2. Utility Functions for XAFS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="preedge.html">8.2. XAFS: Pre-edge Subtraction and Normalization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="preedge.html#the-pre-edge-function">8.2.1. The <code class="docutils literal"><span class="pre">pre_edge()</span></code> function</a></li>
<li class="toctree-l2"><a class="reference internal" href="preedge.html#pre-edge-subtraction-example">8.2.2. Pre-Edge Subtraction Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="preedge.html#the-mback-algorithm">8.2.3. The MBACK algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="preedge.html#over-absorption-corrections">8.2.4. Over-absorption Corrections</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="autobk.html">8.3. XAFS: Post-edge Background Subtraction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="autobk.html#the-autobk-function">8.3.1. The <code class="docutils literal"><span class="pre">autobk()</span></code> function</a></li>
<li class="toctree-l2"><a class="reference internal" href="autobk.html#the-autobk-algorithm">8.3.2. The AUTOBK Algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="autobk.html#examples">8.3.3. Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="xafsft.html">8.4. XAFS: Fourier Transforms for XAFS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="xafsft.html#overview-of-xafs-fourier-transforms">8.4.1. Overview of XAFS Fourier transforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="xafsft.html#forward-xafs-fourier-transforms">8.4.2. Forward XAFS Fourier transforms (<span class="math">\(k{\rightarrow}R\)</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="xafsft.html#reverse-xafs-fourier-transforms">8.4.3. Reverse XAFS Fourier transforms (<span class="math">\(R{\rightarrow}q\)</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="xafsft.html#ftwindow-generating-fourier-transform-windows">8.4.4. <code class="docutils literal"><span class="pre">ftwindow()</span></code>: Generating Fourier transform windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="xafsft.html#catalog-of-fourier-transform-window">8.4.5. Catalog of Fourier transform window</a></li>
<li class="toctree-l2"><a class="reference internal" href="xafsft.html#examples-forward-xafs-fourier-transforms">8.4.6. Examples: Forward XAFS Fourier transforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="xafsft.html#examples-reverse-xafs-fourier-transforms-fourier-filtering">8.4.7. Examples: Reverse XAFS Fourier transforms, Fourier Filtering</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="wavelets.html">8.5. XAFS: Wavelet Transforms for XAFS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="wavelets.html#cauchy-wavelet">8.5.1. <code class="docutils literal"><span class="pre">cauchy_wavelet()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="wavelets.html#wavelet-example">8.5.2. Wavelet Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="feffpaths.html">8.6. XAFS: Reading and using Feff Paths</a><ul>
<li class="toctree-l2"><a class="reference internal" href="feffpaths.html#running-feff">8.6.1. Running Feff</a></li>
<li class="toctree-l2"><a class="reference internal" href="feffpaths.html#feffpath-and-feffpath-groups">8.6.2. <code class="docutils literal"><span class="pre">feffpath()</span></code> and FeffPath Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="feffpaths.html#path2chi-and-ff2chi-generating-for-a-feffpath">8.6.3. <code class="docutils literal"><span class="pre">path2chi()</span></code> and <code class="docutils literal"><span class="pre">ff2chi()</span></code>: Generating <span class="math">\(\chi(k)\)</span> for a FeffPath</a></li>
<li class="toctree-l2"><a class="reference internal" href="feffpaths.html#the-feffdat-group-full-details-of-the-feff-dat-file">8.6.4. The _feffdat Group: Full Details of the Feff.Dat File</a></li>
<li class="toctree-l2"><a class="reference internal" href="feffpaths.html#the-exafs-equation-using-feff-and-feffpath-groups">8.6.5. The EXAFS Equation using Feff and FeffPath Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="feffpaths.html#models-for-calculating">8.6.6. Models for Calculating <span class="math">\(\sigma^2\)</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="feffpaths.html#example-reading-a-feff-file">8.6.7. Example:  Reading a FEFF file</a></li>
<li class="toctree-l2"><a class="reference internal" href="feffpaths.html#example-adding-feff-files">8.6.8. Example:  Adding FEFF files</a></li>
<li class="toctree-l2"><a class="reference internal" href="feffpaths.html#example-using-path-parameters-when-adding-feff-files">8.6.9. Example: Using Path Parameters when adding FEFF files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="feffit.html">8.7. XAFS: Fitting XAFS to Feff Paths</a><ul>
<li class="toctree-l2"><a class="reference internal" href="feffit.html#the-feffit-strategy-for-modeling-exafs-data">8.7.1. The Feffit Strategy for Modeling EXAFS Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="feffit.html#fit-statistics-and-goodness-of-fit-meassures-for-feffit">8.7.2. Fit statistics and goodness-of-fit meassures for <code class="docutils literal"><span class="pre">feffit()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="feffit.html#the-feffit-functions-in-larch">8.7.3. The Feffit functions in Larch</a></li>
<li class="toctree-l2"><a class="reference internal" href="feffit.html#feffit-transform-and-the-feffit-transform-group">8.7.4. <code class="docutils literal"><span class="pre">feffit_transform()</span></code> and the Feffit Transform Group</a></li>
<li class="toctree-l2"><a class="reference internal" href="feffit.html#feffit-dataset">8.7.5. <code class="docutils literal"><span class="pre">feffit_dataset()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="feffit.html#feffit">8.7.6. <code class="docutils literal"><span class="pre">feffit()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="feffit.html#feffit-report">8.7.7. <code class="docutils literal"><span class="pre">feffit_report()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="feffit.html#example-1-simple-fit-with-1-path">8.7.8. Example 1: Simple fit with 1 Path</a></li>
<li class="toctree-l2"><a class="reference internal" href="feffit.html#example-2-fit-1-dataset-with-3-paths">8.7.9. Example 2: Fit 1 dataset with 3 Paths</a></li>
<li class="toctree-l2"><a class="reference internal" href="feffit.html#example-3-fit-3-datasets-with-1-path-each">8.7.10. Example 3: Fit 3 datasets with 1 Path each</a></li>
<li class="toctree-l2"><a class="reference internal" href="feffit.html#example-4-measuring-coordination-number">8.7.11. Example 4: Measuring Coordination number</a></li>
<li class="toctree-l2"><a class="reference internal" href="feffit.html#example-5-comparing-fits-in-different-fit-spaces">8.7.12. Example 5: Comparing Fits in different Fit Spaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="feffit.html#example-6-testing-exafs-sensitivity-to">8.7.13. Example 6: Testing EXAFS sensitivity to <span class="math">\(Z\)</span></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="diffkk.html">8.8. XAFS: Computing anomalous scattering factors from XAFS data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="diffkk.html#overview-of-the-diffkk-implementation">8.8.1. Overview of the diffKK implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="diffkk.html#diffkk-on-l-edge-data">8.8.2. diffKK on L edge data</a></li>
</ul>
</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="utilities.html" title="8.1. XAFS Functions: Overview and Naming Conventions"
             >next</a> |</li>
        <li class="right" >
          <a href="../fitting/confidence.html" title="7.8. Advanced Confidence Intervals and Chi-square maps"
             >previous</a> |</li>
   <li>[<a href="../data/index.html">Reading Data</a>|</li>
   <li><a href="../plotting/index.html">Plotting</a>|</li>
   <li><a href="../fitting/index.html">Fitting Data</a>|</li>
   <li><a href="#">XAFS Analysis</a>|</li>
   <li><a href="../xray/index.html">Xray Databases</a>|</li>
   <li><a href="../xrf/index.html">XRF Analysis</a>|</li>
   <li><a href="../devel/index.html">Scripting</a>]</li>
 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright Matthew Newville, The University of Chicago, 2012.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.5.
    </div>
  </body>
</html>