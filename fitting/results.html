
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>7.4. Fit Results and Outputs &#8212; larch 0.9.32 documentation</title>
    
    <link rel="stylesheet" href="../_static/larchdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9.32',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="top" title="larch 0.9.32 documentation" href="../index.html" />
    <link rel="up" title="7. Fitting and Modeling Data" href="index.html" />
    <link rel="next" title="7.5. Some Builtin Line-shape Functions" href="lineshapes.html" />
    <link rel="prev" title="7.3. minimize() and Objective Functions" href="minimize.html" />
  <script type="text/x-mathjax-config">
     MathJax.Hub.Config({ "TeX": {Macros: {AA : "{\\unicode{x212B}}"}},
			 "HTML-CSS": {scale: 90}});
  </script>

  </head>
  <body role="document">
<div style=" color: #c5daba;  text-align: left; height:65px; padding: 0px">
<table border=1>
  <tr>
    <td width=20%>
	<a href="../index.html">
	 <img src="../_static/larchcones.png" height=60px alt="larchcones"/></a>
    </td>
    <td width=75% padding=0>
      <font size=+2>
	<a href="../index.html" style="color:#772211">
	  Larch: Data Analysis Tools for X-ray Spectroscopy
	</a>
      </font>
    </td>
   </tr></table>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="lineshapes.html" title="7.5. Some Builtin Line-shape Functions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="minimize.html" title="7.3. minimize() and Objective Functions"
             accesskey="P">previous</a> |</li>
   <li>[<a href="../data/index.html">Reading Data</a>|</li>
   <li><a href="../plotting/index.html">Plotting</a>|</li>
   <li><a href="index.html">Fitting Data</a>|</li>
   <li><a href="../xafs/index.html">XAFS Analysis</a>|</li>
   <li><a href="../xray/index.html">Xray Databases</a>|</li>
   <li><a href="../xrf/index.html">XRF Analysis</a>|</li>
   <li><a href="../devel/index.html">Scripting</a>]</li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">7. Fitting and Modeling Data</a> &#187;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="minimize.html"
                        title="previous chapter">7.3. <code class="docutils literal"><span class="pre">minimize()</span></code> and Objective Functions</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="lineshapes.html"
                        title="next chapter">7.5. Some Builtin Line-shape Functions</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/fitting/results.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="fit-results-and-outputs">
<span id="fitting-results-sec"></span><h1>7.4. Fit Results and Outputs<a class="headerlink" href="#fit-results-and-outputs" title="Permalink to this headline">¶</a></h1>
<p>After the fit has completed, several statistics are output and available to
describe the quality of the fit and the estimated values for the Parameter
values and uncertainties.  The main statistics are written to <em>paramgroup</em>.</p>
<p>The estimated values, uncertainties, and correlations for each varied
Parameter are written as attributes of that Parameter.  Thus, after a fit,
each variable Parameter <code class="docutils literal"><span class="pre">par</span></code> will be updated so that <code class="docutils literal"><span class="pre">par.value</span></code> will
hold the estimated best-fit value, <code class="docutils literal"><span class="pre">par.stderr</span></code> will hold the estimated
uncertainty (1-<span class="math">\(\sigma\)</span> standard error), and <code class="docutils literal"><span class="pre">par.correl</span></code> will hold
a dictionary of correlation values with the other variable Parameters.</p>
<p>General Fit statistics describing the quality of the fit and details about
how the fit proceeded will be put into components of <em>paramgroup</em>, with
variable names and meanings as outlines in
<a class="reference internal" href="#minimize-stats-table"><span class="std std-ref">Table of Fit Statistics</span></a>.  For advanced users,
the full residual vector,
covarance matrix, and jacobian matrix from the fit, as well as several more
esoteric outputs from MINPACK's lmdif function are put in
<em>paramgroup.lmdif</em>.</p>
<blockquote id="minimize-stats-table">
<div><p>Table of Fit Statistics.
Listed are the name of the variable added to the fit <em>paramgroup</em>, and
the statistical quantity it holds.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><em>attribute</em></th>
<th class="head"><em>statistical quantity or other output</em></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>residual</td>
<td>final array returned from objective function</td>
</tr>
<tr class="row-odd"><td>nvarys</td>
<td>number of independent variables</td>
</tr>
<tr class="row-even"><td>nfree</td>
<td>number of free parameters (len(residual) - nvarys)</td>
</tr>
<tr class="row-odd"><td>chi_square</td>
<td><span class="math">\(\chi^2\)</span>, chi-square</td>
</tr>
<tr class="row-even"><td>chi_reduced</td>
<td><span class="math">\(\chi_\nu^2\)</span>, reduced chi-square</td>
</tr>
<tr class="row-odd"><td>message</td>
<td>an output message about fit</td>
</tr>
<tr class="row-even"><td>errorbars</td>
<td>flag for whether errorbars were calculated</td>
</tr>
<tr class="row-odd"><td>fit_details</td>
<td>Group containing output data from fitting method</td>
</tr>
<tr class="row-even"><td>fit_details.method</td>
<td>name of fitting method used.</td>
</tr>
<tr class="row-odd"><td>fit_details.nfev</td>
<td>number of calls to (evaluations of) objective function</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div></blockquote>
<p>Additional outputs written to the <code class="docutils literal"><span class="pre">fit_details</span></code> group vary for each
fitting method.</p>
<dl class="function">
<dt id="fit_report">
<code class="descname">fit_report</code><span class="sig-paren">(</span><em>paramgroup</em>, <em>show_correl=True</em>, <em>min_correl=0.1</em><span class="sig-paren">)</span><a class="headerlink" href="#fit_report" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a fit report for a fit given a parameter group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>paramgroup</strong> -- parameter group, after being used in a fit.</li>
<li><strong>show_correl</strong> -- flag (<code class="docutils literal"><span class="pre">True</span></code>/<code class="docutils literal"><span class="pre">False</span></code>) to show parameter correlations.</li>
<li><strong>min_correl</strong> -- smallest absolute value of correlation to show.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">string of fit report.   This can be printed or stored.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>A typical result from <a class="reference internal" href="#fit_report" title="fit_report"><code class="xref py py-func docutils literal"><span class="pre">fit_report()</span></code></a> would look like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="nb">print</span> <span class="n">fit_report</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
<span class="o">=====================</span> <span class="n">FIT</span> <span class="n">RESULTS</span> <span class="o">=====================</span>
<span class="p">[[</span><span class="n">Statistics</span><span class="p">]]</span>    <span class="n">Fit</span> <span class="n">succeeded</span><span class="p">,</span>  <span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;leastsq&#39;</span><span class="o">.</span>
   <span class="n">Message</span> <span class="kn">from</span> <span class="nn">fit</span>    <span class="o">=</span> <span class="n">Fit</span> <span class="n">succeeded</span><span class="o">.</span>
   <span class="n">npts</span><span class="p">,</span> <span class="n">nvarys</span><span class="p">,</span> <span class="n">nfree</span> <span class="o">=</span> <span class="mi">501</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">497</span>
   <span class="n">nfev</span> <span class="p">(</span><span class="n">func</span> <span class="n">calls</span><span class="p">)</span>   <span class="o">=</span> <span class="mi">26</span>
   <span class="n">chi_square</span>          <span class="o">=</span> <span class="mf">30.650777</span>
   <span class="n">reduced</span> <span class="n">chi_square</span>  <span class="o">=</span> <span class="mf">0.061672</span>

<span class="p">[[</span><span class="n">Variables</span><span class="p">]]</span>
   <span class="n">amp</span>            <span class="o">=</span>  <span class="mf">12.053707</span> <span class="o">+/-</span> <span class="mf">0.383248</span> <span class="p">(</span><span class="n">init</span><span class="o">=</span>  <span class="mf">10.000000</span><span class="p">)</span>
   <span class="n">cen</span>            <span class="o">=</span>  <span class="mf">10.943759</span> <span class="o">+/-</span> <span class="mf">0.052711</span> <span class="p">(</span><span class="n">init</span><span class="o">=</span>  <span class="mf">10.800000</span><span class="p">)</span>
   <span class="n">off</span>            <span class="o">=</span>  <span class="mf">2.209804</span> <span class="o">+/-</span> <span class="mf">0.022001</span> <span class="p">(</span><span class="n">init</span><span class="o">=</span> <span class="o">-</span><span class="mf">3.100000</span><span class="p">)</span>
   <span class="n">wid</span>            <span class="o">=</span>  <span class="mf">2.013217</span> <span class="o">+/-</span> <span class="mf">0.052131</span> <span class="p">(</span><span class="n">init</span><span class="o">=</span>  <span class="mf">1.000000</span><span class="p">)</span>

<span class="p">[[</span><span class="n">Correlations</span><span class="p">]]</span>     <span class="p">(</span><span class="n">unreported</span> <span class="n">correlations</span> <span class="n">are</span> <span class="o">&lt;</span>  <span class="mf">0.100</span><span class="p">)</span>
   <span class="n">amp</span><span class="p">,</span> <span class="n">off</span>             <span class="o">=</span> <span class="o">-</span><span class="mf">0.864</span>
   <span class="n">amp</span><span class="p">,</span> <span class="n">wid</span>             <span class="o">=</span>  <span class="mf">0.812</span>
   <span class="n">off</span><span class="p">,</span> <span class="n">wid</span>             <span class="o">=</span> <span class="o">-</span><span class="mf">0.699</span>
<span class="o">=======================================================</span>
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="lineshapes.html" title="7.5. Some Builtin Line-shape Functions"
             >next</a> |</li>
        <li class="right" >
          <a href="minimize.html" title="7.3. minimize() and Objective Functions"
             >previous</a> |</li>
   <li>[<a href="../data/index.html">Reading Data</a>|</li>
   <li><a href="../plotting/index.html">Plotting</a>|</li>
   <li><a href="index.html">Fitting Data</a>|</li>
   <li><a href="../xafs/index.html">XAFS Analysis</a>|</li>
   <li><a href="../xray/index.html">Xray Databases</a>|</li>
   <li><a href="../xrf/index.html">XRF Analysis</a>|</li>
   <li><a href="../devel/index.html">Scripting</a>]</li>

          <li class="nav-item nav-item-1"><a href="index.html" >7. Fitting and Modeling Data</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Matthew Newville, The University of Chicago, 2012.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.8.
    </div>
  </body>
</html>