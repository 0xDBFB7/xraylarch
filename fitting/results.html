

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Fit Results and Outputs &mdash; larch 0.9.14 documentation</title>
    
    <link rel="stylesheet" href="../_static/larchdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9.14',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="larch 0.9.14 documentation" href="../index.html" />
    <link rel="up" title="Fitting and Modeling Data with Larch" href="index.html" />
    <link rel="next" title="Some Builtin Line-shape Functions" href="lineshapes.html" />
    <link rel="prev" title="minimize() and Objective Functions" href="minimize.html" /> 
  </head>
  <body>
<div style=" color: #c5daba;  text-align: left;
            height:100px; padding: 0">
<table><tr>
  <td width=20% padding=0>
    <a href="#">
       <img src="../_static/larchcones.png" width=90% alt="larchcones"/>
    </a>
  </td><td width=80% padding=0>
      <font size=+3><a href="../index.html" style="color: #772211">
          Larch: X-ray Data Analysis   </a></font>
</td></tr></table>
</div>


    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="lineshapes.html" title="Some Builtin Line-shape Functions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="minimize.html" title="minimize() and Objective Functions"
             accesskey="P">previous</a> |</li>
   <li><a href="../installation.html">download</a>|&nbsp;</li>
   <li><a href="../contents.html">contents</a>|&nbsp;</li>
   <li><a href="../tutorial/index.html">tutorial</a>|&nbsp;</li>
   <li><a href="../plotting/index.html">plot</a>|&nbsp;</li>
   <li><a href="index.html">fit</a>|&nbsp;</li>
   <li><a href="../xafs/index.html">XAFS</a>|&nbsp;</li>
   <li><a href="../xray/index.html">XRF</a>|&nbsp;</li>
   &nbsp;&nbsp;<li><a href="../search.html">search</a>|&nbsp;</li>

          <li><a href="index.html" accesskey="U">Fitting and Modeling Data with Larch</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="minimize.html"
                        title="previous chapter"><tt class="docutils literal docutils literal docutils literal"><span class="pre">minimize()</span></tt> and Objective Functions</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="lineshapes.html"
                        title="next chapter">Some Builtin Line-shape Functions</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/fitting/results.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="fit-results-and-outputs">
<h1>Fit Results and Outputs<a class="headerlink" href="#fit-results-and-outputs" title="Permalink to this headline">¶</a></h1>
<p>After the fit has completed, several statistics are output and available to
describe the quality of the fit and the estimated values for the Parameter
values and uncertainties.  The main statistics are written to <em>paramgroup</em>.</p>
<p>The estimated values, uncertainties, and correlations for each varied
Parameter are written as attributes of that Parameter.  Thus, after a fit,
each variable Parameter <tt class="docutils literal"><span class="pre">par</span></tt> will be updated so that <tt class="docutils literal"><span class="pre">par.value</span></tt> will
hold the estimated best-fit value, <tt class="docutils literal"><span class="pre">par.stderr</span></tt> will hold the estimated
uncertainty (1-<img class="math" src="../_images/math/fa35d9fc104207e09a712110ac81612c5b279a6c.png" alt="\sigma"/> standard error), and <tt class="docutils literal"><span class="pre">par.correl</span></tt> will hold
a dictionary of correlation values with the other variable Parameters.</p>
<p>General Fit statistics describing the quality of the fit and details about
how the fit proceeded will be put into components of <em>paramgroup</em>, with
variable names and meanings as outlines in
<a class="reference internal" href="#minimize-stats-table"><em>Table of Fit Statistics</em></a>.  For advanced users,
the full residual vector,
covarance matrix, and jacobian matrix from the fit, as well as several more
esoteric outputs from MINPACK&#8217;s lmdif function are put in
<em>paramgroup.lmdif</em>.</p>
<blockquote id="minimize-stats-table">
<div><p>Table of Fit Statistics.
Listed are the name of the variable added to the fit <em>paramgroup</em>, and
the statistical quantity it holds.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><em>attribute</em></th>
<th class="head"><em>statistical quantity or other output</em></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>residual</td>
<td>final array returned from objective function</td>
</tr>
<tr class="row-odd"><td>nvarys</td>
<td>number of independent variables</td>
</tr>
<tr class="row-even"><td>nfree</td>
<td>number of free parameters (len(residual) - nvarys)</td>
</tr>
<tr class="row-odd"><td>chi_square</td>
<td><img class="math" src="../_images/math/a61c1e51680e27d35d05bebed87d474972fc70bd.png" alt="\chi^2"/>, chi-square</td>
</tr>
<tr class="row-even"><td>chi_reduced</td>
<td><img class="math" src="../_images/math/43a7dd44b2519d01fa6ed6d8ab9b36af52218f6f.png" alt="\chi_\nu^2"/>, reduced chi-square</td>
</tr>
<tr class="row-odd"><td>message</td>
<td>an output message about fit</td>
</tr>
<tr class="row-even"><td>errorbars</td>
<td>flag for whether errorbars were calculated</td>
</tr>
<tr class="row-odd"><td>fit_details</td>
<td>Group containing output data from fitting method</td>
</tr>
<tr class="row-even"><td>fit_details.method</td>
<td>name of fitting method used.</td>
</tr>
<tr class="row-odd"><td>fit_details.nfev</td>
<td>number of calls to (evaluations of) objective function</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div></blockquote>
<p>Additional outputs written to the <tt class="docutils literal"><span class="pre">fit_details</span></tt> group vary for each
fitting method.</p>
<dl class="function">
<dt id="fit_report">
<tt class="descname">fit_report</tt><big>(</big><em>paramgroup</em>, <em>show_correl=True</em>, <em>min_correl=0.1</em><big>)</big><a class="headerlink" href="#fit_report" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a fit report for a fit given a parameter group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>paramgroup</strong> &#8211; parameter group, after being used in a fit.</li>
<li><strong>show_correl</strong> &#8211; flag (<tt class="docutils literal"><span class="pre">True</span></tt>/<tt class="docutils literal"><span class="pre">False</span></tt>) to show parameter correlations.</li>
<li><strong>min_correl</strong> &#8211; smallest absolute value of correlation to show.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">string of fit report.   This can be printed or stored.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>A typical result from <a class="reference internal" href="#fit_report" title="fit_report"><tt class="xref py py-func docutils literal"><span class="pre">fit_report()</span></tt></a> would look like this:</p>
<div class="highlight-python"><pre>larch&gt; print fit_report(params)
===================== FIT RESULTS =====================
[[Statistics]]    Fit succeeded,  method = 'leastsq'.
   Message from fit    = Fit succeeded.
   npts, nvarys, nfree = 501, 4, 497
   nfev (func calls)   = 26
   chi_square          = 30.650777
   reduced chi_square  = 0.061672

[[Variables]]
   amp            =  12.053707 +/- 0.383248 (init=  10.000000)
   cen            =  10.943759 +/- 0.052711 (init=  10.800000)
   off            =  2.209804 +/- 0.022001 (init= -3.100000)
   wid            =  2.013217 +/- 0.052131 (init=  1.000000)

[[Correlations]]     (unreported correlations are &lt;  0.100)
   amp, off             = -0.864
   amp, wid             =  0.812
   off, wid             = -0.699
=======================================================</pre>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="lineshapes.html" title="Some Builtin Line-shape Functions"
             >next</a> |</li>
        <li class="right" >
          <a href="minimize.html" title="minimize() and Objective Functions"
             >previous</a> |</li>
   <li><a href="../installation.html">download</a>|&nbsp;</li>
   <li><a href="../contents.html">contents</a>|&nbsp;</li>
   <li><a href="../tutorial/index.html">tutorial</a>|&nbsp;</li>
   <li><a href="../plotting/index.html">plot</a>|&nbsp;</li>
   <li><a href="index.html">fit</a>|&nbsp;</li>
   <li><a href="../xafs/index.html">XAFS</a>|&nbsp;</li>
   <li><a href="../xray/index.html">XRF</a>|&nbsp;</li>
   &nbsp;&nbsp;<li><a href="../search.html">search</a>|&nbsp;</li>

          <li><a href="index.html" >Fitting and Modeling Data with Larch</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Matthew Newville.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre.
    </div>
  </body>
</html>