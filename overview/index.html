

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Larch: Motivation and Overview &mdash; larch 0.9.19 documentation</title>
    
    <link rel="stylesheet" href="../_static/larchdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9.19',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="larch 0.9.19 documentation" href="../index.html" />
    <link rel="next" title="Larch Tutorial" href="../tutorial/index.html" />
    <link rel="prev" title="Downloading and Installation" href="../downloads/index.html" /> 
  </head>
  <body>
<div style=" color: #c5daba;  text-align: left;
            height:100px; padding: 0">
<table><tr>
  <td width=25% padding=0>
    <a href="../index.html">
       <img src="../_static/larchcones.png" width=91% alt="larchcones"/>
    </a>
  </td><td width=75% padding=0>
      <font size=+4><a href="../index.html" style="color: #772211">
          Larch: X-ray Data Analysis   </a></font>
</td></tr></table>
</div>


    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../tutorial/index.html" title="Larch Tutorial"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../downloads/index.html" title="Downloading and Installation"
             accesskey="P">previous</a> |</li>
   <li><a href="../index.html">larch</a>|&nbsp;</li>
   <li><a href="../contents.html">contents</a>|&nbsp;</li>
   <li><a href="../downloads/index.html">downloads</a>|&nbsp;</li>
   <li><a href="../tutorial/index.html">tutorial</a>|&nbsp;</li>
   <li><a href="../data/index.html">data</a>|&nbsp;</li>
   <li><a href="../plotting/index.html">plot</a>|&nbsp;</li>
   <li><a href="../fitting/index.html">fit</a>|&nbsp;</li>
   <li><a href="../xafs/index.html">XAFS</a>|&nbsp;</li>
   <li><a href="../xray/index.html">Xray Data</a>|&nbsp;</li>
   <li><a href="../xrf/index.html">XRF</a>|&nbsp;</li>
 
      </ul>
    </div>


      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Larch: Motivation and Overview</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#design-principles-key-concepts">Design Principles, Key Concepts</a></li>
<li><a class="reference internal" href="#capabilities">Capabilities</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../downloads/index.html"
                        title="previous chapter">Downloading and Installation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../tutorial/index.html"
                        title="next chapter">Larch Tutorial</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/overview/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="larch-motivation-and-overview">
<h1>Larch: Motivation and Overview<a class="headerlink" href="#larch-motivation-and-overview" title="Permalink to this headline">¶</a></h1>
<p>Larch is a scientific data processing language.  Though having pretty
general capabilities, it has been developed especially for processing and
analyziing x-ray spectroscopic and scattering data collected at modern
synchrotrons and x-ray sources.  Thus, Larch has several related target
application areas, including XAFS, XRF, and X-ray standing waves.  The
initial movitation for Larch was to replace the Ifeffit package for XAFS
analysis, with the the ability to add XRF capabilites and to use it as a
macro language for data collection and initial data processing and
visualization were quickly added to the list of goals.</p>
<p>Larch gives a simple command-line interface (a Read-Eval-Print Loop), but
can also be scripted in &#8220;batch mode&#8221;.  GUIs can be built upon Larch by
simply generating the commands, making it easy to separate the layout from
the actual processing steps, so that the processing steps might be recorded
and used to make a &#8220;batch script&#8221;.  In addition you can use Larch with
remote-procedure calls, so that it can be run as a service, and called from
a variety of languages and from different machines.</p>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Larch is written in Python, an interpreted (non-compiled) language that has
become quite popular in a range of scientific disciplines.  Python is known
for its very clear syntax and readability, and Larch has syntax that is
built upon, and very closely related to Python&#8217;s.  Using Python in this way
not only gives a fairly elegant and readable language, but also allows
Larch to build upon many great efforts in Python, especially for scientific
computing, including <a class="reference external" href="http://numpy.scipy.org/">numpy</a>, <a class="reference external" href="http://scipy.org/">scipy</a>, <a class="reference external" href="http://code.google.com/p/h5py/">h5py</a>, and <a class="reference external" href="http://matplotlib.org/">matplotlib</a>.  Using
Python also turns out to make implementing Larch and adding complex
functionality such as XAFS analysis capabilities simple.</p>
<p>In fact, Larch is so closely related to Python that a few key points should
be made:</p>
<blockquote>
<div><ol class="arabic simple">
<li>All data items in Larch are really Python objects.</li>
<li>All Larch code is translated into Python and then run using builtin
Python tools.</li>
</ol>
</div></blockquote>
<p>In a sense, Larch is a dialect of Python.  Thus an understanding Larch and
Python are close to one another.  This in itself can be seen as an
advantage &#8211; Python is a popular, open-source, language that any programmer
can easily learn.  Books and web documentation about Python are plentiful.
If you known Python, Larch will be very easy to use, and vice versa.</p>
</div>
<div class="section" id="design-principles-key-concepts">
<h2>Design Principles, Key Concepts<a class="headerlink" href="#design-principles-key-concepts" title="Permalink to this headline">¶</a></h2>
<p>Since Larch is intended for processing scientific data, organization of
data is a key consideration.  The main feature that Larch uses to help the
user with organizing data is <strong>Group</strong>.  This is simply a container into
which any sort of data can be placed, including other Groups.  This allows
nested structures of data that can be accessed and manipulated easily via
attributes, as with:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_group</span> <span class="o">=</span> <span class="n">group</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">),</span> <span class="n">scale</span><span class="o">=</span><span class="mf">10.2</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s">&#39;group 1&#39;</span><span class="p">)</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_group</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">my_group</span><span class="o">.</span><span class="n">x</span><span class="o">*</span><span class="n">my_group</span><span class="o">.</span><span class="n">x</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">plot</span><span class="p">(</span><span class="n">my_group</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">my_group</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">my_group</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
</pre></div>
</div>
<p>The Group <tt class="docutils literal"><span class="pre">my_group</span></tt> holds data for <tt class="docutils literal"><span class="pre">x</span></tt>, <tt class="docutils literal"><span class="pre">y</span></tt>, and <tt class="docutils literal"><span class="pre">title</span></tt>.  Here,
the <tt class="docutils literal"><span class="pre">range()</span></tt> function gives an array of 11 elements ([0, 1, 2, ..., 10])
that will be held by <tt class="docutils literal"><span class="pre">my_group.x</span></tt>.  You can see the contents of a group
with the <a class="reference internal" href="../tutorial/builtins.html#show" title="show"><tt class="xref py py-func docutils literal"><span class="pre">show()</span></tt></a> function:</p>
<div class="highlight-python"><pre>larch&gt; show(my_group)
== Group 0x6e15970: 4 symbols ==
  scale: 10.2
  t: 'group 1'
  x: array&lt;shape=(11,), type=dtype('int32')&gt;
  y: array&lt;shape=(11,), type=dtype('int32')&gt;</pre>
</div>
<p>which shows that this group has 4 components, and lists the components.
As the <tt class="docutils literal"><span class="pre">x</span></tt> and <tt class="docutils literal"><span class="pre">y</span></tt> members hold array, the size and datatype of the
array is shown.  Doing:</p>
<div class="highlight-python"><pre>larch&gt; print my.group.y
[  0   1   4   9  16  25  36  49  64  81 100]</pre>
</div>
<p>will show the array elements.   The <tt class="xref py py-func docutils literal"><span class="pre">plot()</span></tt> function will show a graph
of y(x).</p>
<p>Since much of what Larch is used for is modeling or fitting small data
sets, another key organizing principle is the <strong>Parameter</strong>.  This holds a
value that you might want to be optimized in a least-squares fit.   Thus, a
Parameter can be flagged as a variable, or fixed to not be varied.  In
addition, it can be given a mathematical expression in terms of other
Parameters to determine its value as a constrained value.</p>
</div>
<div class="section" id="capabilities">
<h2>Capabilities<a class="headerlink" href="#capabilities" title="Permalink to this headline">¶</a></h2>
<p>At this writing, Larch has the following general capabilities:</p>
<blockquote>
<div><ul class="simple">
<li>a full suite of mathematical functionality, with array handling
builtin (so that functions work on full arrays).</li>
<li>a general purpose language with flow-control (for and while loops),
and conditional evaluation (if-then-else).</li>
<li>some built-in I/O functionality for ASCII files and HDF5.</li>
<li>simple line plots, with customizable line properties.</li>
<li>simple 2-D image dispays, with some rudimentary customization.</li>
<li>general-purpose minimization and curve-fitting.</li>
</ul>
</div></blockquote>
<p>For XAFS analysis in particular, Larch is able to do most data processing
and analysis steps needed, including:</p>
<blockquote>
<div><ul class="simple">
<li>pre-edge background subtraction and normalization</li>
<li>background subtraction for isolating chi(k)</li>
<li>XAFS Fourier transforms</li>
<li>reading and manipulating Feff Path files</li>
<li>fitting Feff Paths to XAFS data</li>
<li>general-purpose minimization and curve-fitting.</li>
</ul>
</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../tutorial/index.html" title="Larch Tutorial"
             >next</a> |</li>
        <li class="right" >
          <a href="../downloads/index.html" title="Downloading and Installation"
             >previous</a> |</li>
   <li><a href="../index.html">larch</a>|&nbsp;</li>
   <li><a href="../contents.html">contents</a>|&nbsp;</li>
   <li><a href="../downloads/index.html">downloads</a>|&nbsp;</li>
   <li><a href="../tutorial/index.html">tutorial</a>|&nbsp;</li>
   <li><a href="../data/index.html">data</a>|&nbsp;</li>
   <li><a href="../plotting/index.html">plot</a>|&nbsp;</li>
   <li><a href="../fitting/index.html">fit</a>|&nbsp;</li>
   <li><a href="../xafs/index.html">XAFS</a>|&nbsp;</li>
   <li><a href="../xray/index.html">Xray Data</a>|&nbsp;</li>
   <li><a href="../xrf/index.html">XRF</a>|&nbsp;</li>
 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright Matthew Newville, The University of Chicago, 2012.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2pre.
    </div>
  </body>
</html>